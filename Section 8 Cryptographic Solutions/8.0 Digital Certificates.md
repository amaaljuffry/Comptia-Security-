
### **Digital Certificates - Study Notes**

#### **1. Core Concept**
*   **Definition:** A **digitally signed electronic document** that binds a **public key** with a user's **identity**.
*   **Purpose:** Establishes trust and enables secure communication in a PKI.
*   **"User" Identity:** Can be a person, server, workstation, or any device.
*   **Standard:** Most certificates use the **X.509** protocol standard.

---

#### **2. Types & Formats of Certificates**

| Type | Description | Use Case | Pros & Cons |
| :--- | :--- | :--- | :--- |
| **Wildcard Certificate** | Uses an asterisk (*) to secure a domain and **all its sub-domains** (e.g., `*.diontraining.com` covers `www.`, `courses.`, etc.). | Organizations with multiple sub-domains under a single main domain. | **Pro:** Cost-effective, easier to manage (one certificate).<br>**Con:** If compromised, **all sub-domains are affected**. |
| **Subject Alternate Name (SAN) Certificate** | A single certificate that can secure **multiple different domain names** by modifying the SAN field. | Organizations with several completely different domain names (e.g., `diontraining.com` and `jasondion.com`). | More flexible than a wildcard for disparate domains. |
| **Single-Sided Certificate** | Only the **server** authenticates itself to the client. | Standard HTTPS websites. Common for public-facing sites. | Less processing overhead. |
| **Dual-Sided (Mutual) Certificate** | **Both the server and the client** authenticate each other using certificates. | High-security environments (e.g., government, financial institutions). | **Pro:** Stronger security.<br>**Con:** Higher processing load on the server. |
| **Self-Signed Certificate** | Signed by the **entity it identifies**, **not** by a trusted Certificate Authority (CA). | Testing, development, or closed internal systems. | **Pro:** Provides encryption.<br>**Con:** **Lacks trust**; browsers display security warnings. |
| **Third-Party Certificate** | Issued and signed by a trusted **Certificate Authority (CA)**. | All publicly-facing websites and applications. | **Pro:** Inherently trusted by browsers/OSs. Provides a high degree of trust. |

---

#### **3. The PKI Trust Framework**

| Component                             | Role & Function                                                                                                                                                                                                        |
| :------------------------------------ | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Root of Trust / Chain of Trust**    | The hierarchical model of trust. A trusted **Root CA** signs intermediate CAs, which in turn sign end-entity certificates. Your browser trusts a certificate because it can trace a valid path back to a trusted Root. |
| **Certificate Authority (CA)**        | The **trusted third party** that issues, manages, and validates digital certificates. (e.g., DigiCert, Let's Encrypt, Google).                                                                                         |
| **Registration Authority (RA)**       | Acts as the **verifier** for the CA. It receives certificate requests, verifies the applicant's identity, and forwards the request to the CA.                                                                          |
| **Certificate Signing Request (CSR)** | A block of encoded text generated by the applicant. It contains the **public key** and identifying information. The **private key always remains secure** with the applicant.                                          |

---

#### **4. Certificate Validation & Revocation**

| Method                                        | How it Works                                                                                                                                               | Pros & Cons                                                                                                                |
| :-------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------- |
| **Certificate Revocation List (CRL)**         | A **list** maintained by the CA of all **revoked certificates**. The browser checks this list before trusting a certificate.                               | **Con:** Can become large and slow to check.                                                                               |
| **Online Certificate Status Protocol (OCSP)** | A protocol that checks the revocation status of a **single certificate** by its serial number.                                                             | **Pro:** Faster and more efficient than downloading the entire CRL.<br>**Con:** Lack of encryption can be a security risk. |
| **OCSP Stapling**                             | The **server** periodically retrieves its own OCSP record from the CA and "staples" it to the TLS/SSL handshake.                                           | **Pro:** **Faster and more private** than OCSP; eliminates an extra connection. The preferred modern method.               |
| **Public Key Pinning**                        | A website tells a browser to "pin" or remember a set of trusted public keys. If a future connection presents an unexpected key, the browser will block it. | **Pro:** Resists impersonation attacks using fraudulent certificates.                                                      |

---

#### **5. Key Management & Recovery**

| Concept                            | Description                                                                                                             | Security Considerations                                                                                                                                                                                                                              |
| :--------------------------------- | :---------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Key Escrow**                     | The process of storing a secure copy of a user's **private key** with a trusted third party (the **Key Escrow Agent**). | **Purpose:** Prevents data loss if a key is lost.<br>**Risk:** A major security liability; if the escrow is compromised, all escrowed keys are compromised.<br>**Best Practice:** Use **separation of duties** (e.g., two admins to retrieve a key). |
| **Key Recovery Agent**<br>(Backup) | Specialized software that allows for the **restoration of lost or corrupted keys** from a backup.                       | Essential for disaster recovery, especially for CA keys.                                                                                                                                                                                             |

---

### **Summary & Key Takeaways**

1.  **Trust is Fundamental:** The entire system relies on a **Chain of Trust** originating from trusted Root CAs.
2.  **Choose the Right Certificate:**
    *   Use **Third-Party Certificates** for public websites.
    *   Use **Wildcard** certificates for multiple sub-domains (understanding the risk).
    *   Use **SAN** certificates for multiple different domains.
    *   Use **Dual-Sided** certificates for high-security mutual authentication.
3.  **Revocation(decision) is Critical:** Certificates can be compromised. Systems use **CRL, OCSP, or OCSP Stapling** to ensure a certificate is still valid.
4.  **Protect the Keys:**
    *   The **private key** must be kept secret at all times.
    *   **Key Escrow** is a trade-off between data recovery and security risk.
5.  **Compromise has Widespread Effects:** If a **CA is compromised**, every certificate it ever issued is potentially compromised and must be revoked and reissued.